
# ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช Supabase ููุชุญูู ุงูุฃุจูู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชูุนูู ููุฒุงุช **ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ** ู**ุญุฏูุฏ ุงูููุช** ูุน ุงูุชูุงูู ุงููุงูู ูุน ูุงุนุฏุฉ ุจูุงูุงุช Supabase. ุฌููุน ุงูุจูุงูุงุช ุงูุขู ูุชู ุญูุธูุง ุจุดูู ุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

## ุงูุฌุฏุงูู ุงููููุดุฃุฉ

### 1. network_settings (ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ)
ูุญูุธ ูุนูููุงุช ุงูุดุจูุงุช ุงููุญููุฉ ุงููุญููุธุฉ:
- `id`: ูุนุฑู ูุฑูุฏ ููุดุจูุฉ
- `ssid`: ุงุณู ุงูุดุจูุฉ
- `password`: ูููุฉ ูุฑูุฑ ุงูุดุจูุฉ
- `security_type`: ููุน ุงูุฃูุงู (WPA2, WPA3, WEP, Open)
- `is_connected`: ุญุงูุฉ ุงูุงุชุตุงู
- `last_connected`: ุขุฎุฑ ููุช ุงุชุตุงู
- `signal_strength`: ููุฉ ุงูุฅุดุงุฑุฉ
- `user_id`: ูุนุฑู ุงููุณุชุฎุฏู (ููุชุญูู ูู ุงููุตูู)

### 2. time_limits (ุญุฏูุฏ ุงูููุช)
ูุญูุธ ุญุฏูุฏ ุงูููุช ููู ููู ุดุฎุตู:
- `id`: ูุนุฑู ูุฑูุฏ ููุญุฏ ุงูุฒููู
- `profile_name`: ุงุณู ุงูููู ุงูุดุฎุตู
- `enabled`: ุญุงูุฉ ุงูุชูุนูู
- `daily_limit`: ุงูุญุฏ ุงููููู ุจุงูุณุงุนุงุช
- `schedule_start`: ููุช ุงูุจุฏุงูุฉ
- `schedule_end`: ููุช ุงูููุงูุฉ
- `days`: ุงูุฃูุงู ุงููุทุจูุฉ
- `user_id`: ูุนุฑู ุงููุณุชุฎุฏู

### 3. usage_logs (ุณุฌูุงุช ุงูุงุณุชุฎุฏุงู)
ูุชุชุจุน ุงูุงุณุชุฎุฏุงู ุงููููู ููู ููู ุดุฎุตู:
- `id`: ูุนุฑู ูุฑูุฏ ููุณุฌู
- `time_limit_id`: ูุนุฑู ุงูุญุฏ ุงูุฒููู ุงููุฑุชุจุท
- `date`: ุงูุชุงุฑูุฎ
- `hours_used`: ุนุฏุฏ ุงูุณุงุนุงุช ุงููุณุชุฎุฏูุฉ
- `user_id`: ูุนุฑู ุงููุณุชุฎุฏู

## ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### ุงูุฎุทูุฉ 1: ุชุดุบูู SQL Migration

1. ุงูุชุญ ููุญุฉ ุชุญูู Supabase ุงูุฎุงุตุฉ ุจูุดุฑูุนู
2. ุงูุชูู ุฅูู **SQL Editor**
3. ุงูุชุญ ููู `supabase/migrations/create_parental_control_tables.sql`
4. ุงูุณุฎ ูุญุชูู ุงูููู ุจุงููุงูู
5. ุงูุตูู ูู SQL Editor
6. ุงุถุบุท ุนูู **Run** ูุชูููุฐ ุงูุฃูุงูุฑ

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุฅูุดุงุก ุงูุฌุฏุงูู

ุจุนุฏ ุชุดุบูู ุงูู SQLุ ุชุญูู ูู ุฅูุดุงุก ุงูุฌุฏุงูู:

```sql
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('network_settings', 'time_limits', 'usage_logs');
```

ูุฌุจ ุฃู ุชุฑู ุงูุฌุฏุงูู ุงูุซูุงุซุฉ ูู ุงููุชุงุฆุฌ.

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู RLS Policies

ุชุญูู ูู ุชูุนูู Row Level Security:

```sql
SELECT tablename, policyname 
FROM pg_policies 
WHERE tablename IN ('network_settings', 'time_limits', 'usage_logs');
```

## ุงูููุฒุงุช ุงููููุนููุฉ

### โ ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ (Network Settings)

- **ุฅุถุงูุฉ ุดุจูุงุช ุฌุฏูุฏุฉ**: ุงุญูุธ ูุนูููุงุช ุงูุดุจูุงุช ุงููุญููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุนุฑุถ ุงูุดุจูุงุช ุงููุญููุธุฉ**: ุฌููุน ุงูุดุจูุงุช ูุชู ุชุญููููุง ูู Supabase
- **ูุญุงูุงุฉ ุงูุงุชุตุงู**: ุชุญุฏูุซ ุญุงูุฉ ุงูุงุชุตุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุญุฐู ุงูุดุจูุงุช**: ุญุฐู ุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุชุญุฏูุซ ุงูุชููุงุฆู**: ุงูุจูุงูุงุช ุชูุญุฏูุซ ุชููุงุฆูุงู ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุดุจูุฉ

### โ ุญุฏูุฏ ุงูููุช (Time Limits)

- **ุฅุถุงูุฉ ูููุงุช ุดุฎุตูุฉ**: ุฅูุดุงุก ุญุฏูุฏ ุฒูููุฉ ุฌุฏูุฏุฉ ูุญูุธูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุชูุนูู/ุชุนุทูู ุงูุญุฏูุฏ**: ุชุญุฏูุซ ุญุงูุฉ ุงูุชูุนูู ูู ุงูููุช ุงููุนูู
- **ุชุชุจุน ุงูุงุณุชุฎุฏุงู**: ุนุฑุถ ุงูุงุณุชุฎุฏุงู ุงููููู ูู ุฌุฏูู usage_logs
- **ุญุฐู ุงููููุงุช**: ุญุฐู ุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุฌุฏุงูู ูุฎุตุตุฉ**: ุชุญุฏูุฏ ุฃููุงุช ูุฃูุงู ูุฎุชููุฉ ููู ููู ุดุฎุตู

## ุงูุฃูุงู (Row Level Security)

ุฌููุน ุงูุฌุฏุงูู ูุญููุฉ ุจู RLS Policies:

- **SELECT**: ุงููุณุชุฎุฏููู ูููููู ุฑุคูุฉ ุจูุงูุงุชูู ููุท
- **INSERT**: ุงููุณุชุฎุฏููู ูููููู ุฅุถุงูุฉ ุจูุงูุงุช ูุญุณุงุจุงุชูู ููุท
- **UPDATE**: ุงููุณุชุฎุฏููู ูููููู ุชุญุฏูุซ ุจูุงูุงุชูู ููุท
- **DELETE**: ุงููุณุชุฎุฏููู ูููููู ุญุฐู ุจูุงูุงุชูู ููุท

ุงูุจูุงูุงุช ุงูุชู ูุง ุชุญุชูู ุนูู `user_id` (null) ูุชุงุญุฉ ููุฌููุน ููุชูุงูู ูุน ุงูุงุณุชุฎุฏุงู ุจุฏูู ุชุณุฌูู ุฏุฎูู.

## ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ (ุงุฎุชูุงุฑู)

ูุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉุ ูู ุจุฅูุบุงุก ุงูุชุนููู ุนู ุงูุฃุณุทุฑ ูู ููุงูุฉ ููู SQL:

```sql
insert into network_settings (ssid, password, security_type, is_connected, signal_strength) values
  ('Home WiFi', 'password123', 'WPA2', true, 85),
  ('Guest Network', 'guest123', 'WPA2', false, 60);

insert into time_limits (profile_name, enabled, daily_limit, schedule_start, schedule_end, days) values
  ('ุฃุญูุฏ', true, 3, '08:00', '21:00', ARRAY['ุงูุฅุซููู', 'ุงูุซูุงุซุงุก', 'ุงูุฃุฑุจุนุงุก', 'ุงูุฎููุณ', 'ุงูุฃุญุฏ']),
  ('ุณุงุฑุฉ', true, 2, '09:00', '20:00', ARRAY['ุงูุฅุซููู', 'ุงูุซูุงุซุงุก', 'ุงูุฃุฑุจุนุงุก', 'ุงูุฎููุณ', 'ุงูุฃุญุฏ']);
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "relation does not exist"

ุฅุฐุง ุธูุฑุช ูุฐู ุงูุฑุณุงูุฉุ ููุฐุง ูุนูู ุฃู ุงูุฌุฏุงูู ูู ูุชู ุฅูุดุงุคูุง ุจุนุฏ. ูู ุจุชุดุบูู ููู SQL Migration.

### ุฎุทุฃ: "Connection timeout"

ุฅุฐุง ูุงู ููุงู ูุดููุฉ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ
2. ุชุฃูุฏ ูู ุฃู ูุดุฑูุน Supabase ูุดุท
3. ุชุญูู ูู ุตุญุฉ SUPABASE_URL ู SUPABASE_KEY ูู ููู client.ts

### ุงูุจูุงูุงุช ูุง ุชุธูุฑ

1. ุชุญูู ูู ุชูุนูู RLS Policies
2. ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุฏูู ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ
3. ุงูุญุต console logs ูู ุงูุชุทุจูู

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

1. **ุงุฎุชุจุฑ ุฅุถุงูุฉ ุดุจูุฉ ุฌุฏูุฏุฉ** ูู ุดุงุดุฉ ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ
2. **ุฃูุดุฆ ููู ุดุฎุตู ุฌุฏูุฏ** ูู ุดุงุดุฉ ุญุฏูุฏ ุงูููุช
3. **ุชุญูู ูู ุงูุจูุงูุงุช** ูู ููุญุฉ ุชุญูู Supabase
4. **ุฑุงูุจ ุงูุฃุฏุงุก** ุจุงุณุชุฎุฏุงู Supabase Logs

## ููุงุญุธุงุช ูููุฉ

- โ๏ธ **React Native ูุง ูุฏุนู**: ูุณุญ ุดุจูุงุช WiFi ุฃู ุงูุงุชุตุงู ุจูุง ุจุฑูุฌูุงู
- โ **ุงูุชุทุจูู ุงูุญูููู**: ุณูุณุชุฎุฏู API ุงูุฑุงูุชุฑ ููุฅุฏุงุฑุฉ ุงููุนููุฉ
- ๐ **ุงูุฃูุงู**: ุฌููุน ูููุงุช ุงููุฑูุฑ ูุญููุธุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูููุตุญ ุจุงูุชุดููุฑ ูู ุงูุฅูุชุงุฌ)
- ๐ **ุงูุชุชุจุน**: ูููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูููุฒุงุช ูุชุชุจุน ุงูุงุณุชุฎุฏุงู ุจุฏูุฉ

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู console logs ูู ุงูุชุทุจูู
2. ุงูุญุต Supabase Logs ูู ููุญุฉ ุงูุชุญูู
3. ุชุฃูุฏ ูู ุตุญุฉ RLS Policies
4. ุฑุงุฌุน ููู SUPABASE_SETUP.md ูุฐุง

---

**ุชู ุงูุชูุนูู ุจูุฌุงุญ! ๐**

ุงูุขู ููููู ุงุณุชุฎุฏุงู ุงูุชุทุจูู ูุน ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ.
